<link rel="import" href="../polymer/polymer.html">

<!-- 
Web component to control Network Activity Indicator via Cordova plugin.

### Example
```html
<polymer-cordova-network-activity visible={{loading}}></polymer-cordova-network-activity>
```

-->
<dom-module id='polymer-cordova-network-activity'>
</dom-module>

<script>

(function() {

	Polymer({
		is: 'polymer-cordova-network-activity',
		properties: {
			/**
			 * True if the network activity indicator is currently shown
			 */
			visible: {
				type: Boolean,
				notify: true,
				observer: '_visibleChanged'
			}
		},
		
		// Public methods
		/**
		 * Shows the network activity indicator
		 */
		show: function() {
			this.visible = true;
		},

		/**
		 * Hides the network activity indicator
		 */
		hide: function() {
			this.visible = false;
		},
		
		// Private methods
		_visibleChanged: function(newValue, oldValue) {
			if (typeof NetworkActivityIndicator == 'undefined') {
				return;
			}

			if (newValue) {
				NetworkActivityIndicator.show();
			} else {
				NetworkActivityIndicator.hide();
			}
		}
	});

})();

</script>
